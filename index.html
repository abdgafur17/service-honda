<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Servis Motor Honda</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        
        :root {
            --honda-red: #E40521;
            --honda-red-dark: #C0041B;
            --honda-gray: #333333;
            --honda-light: #F5F5F5;
            --honda-accent: #006BB6;
            --honda-green: #27ae60;
            --honda-blue: #3498db;
            --honda-orange: #e67e22;
            --card-shadow: 0 4px 12px rgba(0,0,0,0.08);
            --transition: all 0.3s ease;
        }
        
        body {
            background: linear-gradient(135deg, #f0f2f5 0%, #e4e8ec 100%);
            color: var(--honda-gray);
            line-height: 1.6;
            padding: 15px;
            min-height: 100vh;
            background-attachment: fixed;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 25px 15px;
            background: linear-gradient(to right, var(--honda-gray), var(--honda-red));
            color: white;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }
        
        .logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 12px;
            flex-direction: column;
        }
        
        .logo-icon {
            background: white;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .logo-icon i {
            color: var(--honda-red);
            font-size: 36px;
        }
        
        header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 700;
        }
        
        header p {
            font-size: 1rem;
            opacity: 0.9;
            max-width: 100%;
            margin: 0 auto;
            font-weight: 300;
        }
        
        .input-section {
            background: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
            margin-bottom: 20px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        .input-group label {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            color: #444;
        }
        
        .input-group label i {
            margin-right: 10px;
            color: var(--honda-red);
            width: 24px;
            text-align: center;
        }
        
        .input-group input, .input-group select {
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 1rem;
            transition: var(--transition);
            background: #f9f9f9;
            width: 100%;
        }
        
        .input-group input:focus, .input-group select:focus {
            border-color: var(--honda-red);
            outline: none;
            box-shadow: 0 0 0 3px rgba(228, 5, 33, 0.2);
            background: white;
        }
        
        button {
            background: linear-gradient(to right, var(--honda-red), var(--honda-red-dark));
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(228, 5, 33, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 10px;
            width: 100%;
        }
        
        button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 6px rgba(228, 5, 33, 0.3);
        }
        
        button i {
            margin-right: 10px;
        }
        
        .results {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .service-table {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            overflow-x: auto;
        }
        
        .table-container {
            min-width: 600px;
            width: 100%;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th {
            background: linear-gradient(to right, var(--honda-gray), var(--honda-red));
            color: white;
            text-align: left;
            padding: 16px 14px;
            font-weight: 600;
            font-size: 0.95rem;
            position: sticky;
            left: 0;
        }
        
        td {
            padding: 14px;
            border-bottom: 1px solid #eee;
            font-size: 0.92rem;
        }
        
        tr:nth-child(even) {
            background-color: #fafafa;
        }
        
        .urgent {
            color: #e74c3c;
            font-weight: 600;
            background-color: #ffebee;
            padding: 6px 10px;
            border-radius: 20px;
            display: inline-block;
            font-size: 0.85rem;
        }
        
        .soon {
            color: #e67e22;
            font-weight: 600;
            background-color: #fff4e6;
            padding: 6px 10px;
            border-radius: 20px;
            display: inline-block;
            font-size: 0.85rem;
        }
        
        .normal {
            color: var(--honda-green);
            font-weight: 600;
            background-color: #eafaf1;
            padding: 6px 10px;
            border-radius: 20px;
            display: inline-block;
            font-size: 0.85rem;
        }
        
        .replaced {
            color: #006BB6;
            font-weight: 600;
            background-color: #e3f2fd;
            padding: 6px 10px;
            border-radius: 20px;
            display: inline-block;
            font-size: 0.85rem;
        }
        
        .cost-summary {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--card-shadow);
        }
        
        .cost-summary h2 {
            margin-bottom: 18px;
            color: var(--honda-gray);
            border-bottom: 2px solid var(--honda-red);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            font-size: 1.3rem;
        }
        
        .cost-summary h2 i {
            margin-right: 10px;
            color: var(--honda-red);
        }
        
        .cost-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 14px;
            padding-bottom: 14px;
            border-bottom: 1px dashed #eee;
            font-size: 0.95rem;
        }
        
        .total-cost {
            display: flex;
            justify-content: space-between;
            font-size: 1.3rem;
            font-weight: 700;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid var(--honda-red);
            color: var(--honda-gray);
        }
        
        .maintenance-tips {
            background: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: var(--card-shadow);
            margin-bottom: 20px;
        }
        
        .maintenance-tips h2 {
            margin-bottom: 18px;
            color: var(--honda-gray);
            border-bottom: 2px solid var(--honda-red);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            font-size: 1.3rem;
        }
        
        .maintenance-tips h2 i {
            margin-right: 10px;
            color: var(--honda-red);
        }
        
        .tips-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }
        
        .tip-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 18px;
            border-left: 4px solid var(--honda-red);
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        .tip-card h3 {
            margin-bottom: 10px;
            color: var(--honda-gray);
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }
        
        .tip-card h3 i {
            margin-right: 10px;
            color: var(--honda-red);
            width: 24px;
            text-align: center;
        }
        
        .tip-card p {
            color: #555;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .model-info {
            display: flex;
            align-items: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .model-info img {
            width: 70px;
            height: 50px;
            object-fit: contain;
            margin-right: 15px;
            border-radius: 8px;
            background: #f0f0f0;
            padding: 5px;
        }
        
        .model-info div {
            flex: 1;
        }
        
        .model-info h4 {
            color: var(--honda-gray);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }
        
        .model-info p {
            font-size: 0.85rem;
            color: #777;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        footer {
            text-align: center;
            margin-top: 20px;
            padding: 20px 10px;
            color: #7f8c8d;
            font-size: 0.85rem;
            border-top: 1px solid #eee;
            background: white;
            border-radius: 16px;
            box-shadow: var(--card-shadow);
        }
        
        .honda-badge {
            display: inline-block;
            background: var(--honda-red);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-top: 8px;
        }
        
        .status-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .replace-checkbox {
            width: 22px;
            height: 22px;
            cursor: pointer;
            accent-color: var(--honda-green);
        }
        
        .replace-label {
            cursor: pointer;
            font-size: 0.85rem;
            color: #555;
        }
        
        .replaced .replace-label {
            color: var(--honda-green);
            font-weight: 600;
        }
        
        .action-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        .action-btn {
            padding: 14px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .replace-all-btn {
            background: linear-gradient(to right, var(--honda-green), #2ecc71);
        }
        
        .reset-all-btn {
            background: linear-gradient(to right, var(--honda-orange), #e67e22);
        }
        
        .reset-status-btn {
            background: linear-gradient(to right, #7f8c8d, #95a5a6);
        }
        
        .motor-type-icon {
            width: 26px;
            height: 26px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .matic-icon {
            background: var(--honda-red);
        }
        
        .sport-icon {
            background: var(--honda-blue);
        }
        
        .bebek-icon {
            background: var(--honda-green);
        }
        
        /* Mobile specific improvements */
        @media (min-width: 480px) {
            header h1 {
                font-size: 2rem;
            }
            
            .input-section {
                padding: 25px;
            }
            
            .action-buttons {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        @media (min-width: 768px) {
            body {
                padding: 20px;
            }
            
            header {
                padding: 30px 20px;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .input-section {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .results {
                flex-direction: row;
            }
            
            .service-table {
                flex: 1.5;
            }
            
            .cost-summary {
                flex: 1;
            }
            
            .tips-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .action-buttons {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (min-width: 992px) {
            .tips-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .service-table, .cost-summary, .maintenance-tips, .input-section {
            animation: fadeIn 0.6s ease-out;
        }
        
        .tip-card {
            animation: fadeIn 0.5s ease-out;
        }
        
        .tip-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--honda-red);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--honda-red-dark);
        }
        
        /* Empty state styling */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #777;
        }
        
        .empty-state i {
            font-size: 48px;
            color: #E40521;
            margin-bottom: 15px;
            opacity: 0.7;
        }
        
        .empty-state p {
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-motorcycle"></i>
                </div>
                <h1>Servis Motor Honda</h1>
                <p>Estimator jadwal servis dengan penyesuaian untuk semua tipe motor</p>
            </div>
        </header>
        
        <section class="input-section">
            <div class="input-group">
                <label for="model"><i class="fas fa-motorcycle"></i> Model Motor:</label>
                <select id="model">
                    <option value="beat">Honda Beat</option>
                    <option value="scoopy">Honda Scoopy</option>
                    <option value="vario">Honda Vario</option>
                    <option value="pcx">Honda PCX</option>
                    <option value="adv">Honda ADV</option>
                    <option value="cbr">Honda CBR</option>
                    <option value="supra">Honda Supra</option>
                    <option value="genio">Honda Genio</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="currentKm"><i class="fas fa-tachometer-alt"></i> Kilometer Saat Ini:</label>
                <input type="number" id="currentKm" value="28760" min="0">
            </div>
            
            <div class="input-group">
                <label for="year"><i class="fas fa-calendar-alt"></i> Tahun Pembuatan:</label>
                <input type="number" id="year" value="2022" min="2010" max="2023">
            </div>
            
            <div class="input-group">
                <label for="type"><i class="fas fa-cogs"></i> Tipe Motor:</label>
                <select id="type">
                    <option value="matic">Matic</option>
                    <option value="sport">Sport</option>
                    <option value="bebek">Bebek</option>
                </select>
            </div>
            
            <button id="calculateBtn">
                <i class="fas fa-calculator"></i> Hitung Servis & Biaya
            </button>
            
            <div class="action-buttons">
                <button id="replaceAllBtn" class="action-btn replace-all-btn">
                    <i class="fas fa-check-double"></i> Tandai Semua
                </button>
                <button id="resetAllBtn" class="action-btn reset-all-btn">
                    <i class="fas fa-undo"></i> Reset
                </button>
                <button id="resetBtn" class="action-btn reset-status-btn">
                    <i class="fas fa-sync-alt"></i> Reset Status
                </button>
            </div>
        </section>
        
        <div class="results">
            <section class="service-table">
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Komponen</th>
                                <th>Interval</th>
                                <th>Status</th>
                                <th>Biaya</th>
                                <th>Penggantian</th>
                            </tr>
                        </thead>
                        <tbody id="serviceTable">
                            <tr>
                                <td colspan="5" class="empty-state">
                                    <i class="fas fa-motorcycle"></i>
                                    <p>Masukkan data motor dan klik "Hitung Servis & Biaya"</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <section class="cost-summary">
                <h2><i class="fas fa-file-invoice-dollar"></i> Ringkasan Biaya</h2>
                <div id="costDetails">
                    <div class="empty-state" style="padding: 20px;">
                        <i class="fas fa-calculator"></i>
                        <p>Biaya servis akan muncul setelah perhitungan</p>
                    </div>
                </div>
                <div class="total-cost">
                    <span>Total Estimasi:</span>
                    <span id="totalCost">Rp 0</span>
                </div>
                
                <div class="model-info">
                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60'><rect width='100' height='60' fill='%23f5f5f5'/><path d='M20 30 Q 40 10, 60 30 T 100 30 L 85 45 L 70 45 L 60 30 L 40 30 L 30 45 L 15 45 L 20 30' fill='%23E40521'/><circle cx='30' cy='45' r='8' fill='%23333'/><circle cx='70' cy='45' r='8' fill='%23333'/></svg>" alt="Motor">
                    <div>
                        <h4>Honda Beat</h4>
                        <p><span class="motor-type-icon matic-icon">M</span> 2022 • 28.760 KM</p>
                        <div class="honda-badge">HONDA ORIGINAL PARTS</div>
                    </div>
                </div>
            </section>
        </div>
        
        <section class="maintenance-tips">
            <h2><i class="fas fa-tools"></i> Tips Perawatan</h2>
            <div class="tips-grid">
                <div class="tip-card">
                    <h3><i class="fas fa-oil-can"></i> Servis Berkala</h3>
                    <p>Lakukan servis berkala sesuai rekomendasi pabrikan untuk menjaga performa motor dan mencegah kerusakan komponen.</p>
                </div>
                <div class="tip-card">
                    <h3><i class="fas fa-tire"></i> Tekanan Ban</h3>
                    <p>Periksa tekanan ban secara rutin (minimal 2 minggu sekali) untuk kenyamanan berkendara dan hemat bahan bakar.</p>
                </div>
                <div class="tip-card">
                    <h3><i class="fas fa-filter"></i> Oli Original</h3>
                    <p>Gunakan oli mesin dan oli gardan original Honda untuk perlindungan mesin yang optimal dan masa pakai lebih lama.</p>
                </div>
                <div class="tip-card">
                    <h3><i class="fas fa-car-brake"></i> Sistem Rem</h3>
                    <p>Pastikan sistem rem dalam kondisi baik dan ganti kampas rem jika ketebalan sudah di bawah 1.5mm untuk keselamatan.</p>
                </div>
            </div>
        </section>
        
        <footer>
            <p>© 2023 Estimator Servis Motor Honda</p>
            <p style="margin-top: 10px; color: #E40521; font-weight: bold;">
                <i class="fas fa-heart"></i> Merk dagang Honda digunakan sesuai kebijakan penggunaan yang wajar
            </p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Data servis untuk berbagai model motor Honda
            const serviceData = {
                // Matic
                "beat": [
                    { component: "Oli Mesin & Filter", interval: 4000, price: 130000 },
                    { component: "Busi", interval: 16000, price: 40000 },
                    { component: "Oli Transmisi", interval: 16000, price: 60000 },
                    { component: "V-Belt", interval: 24000, price: 250000 },
                    { component: "Roller", interval: 24000, price: 150000 },
                    { component: "Filter Udara", interval: 12000, price: 70000 },
                    { component: "Kampas Rem Depan", interval: 15000, price: 150000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 120000 },
                    { component: "Oli Rem", interval: 20000, price: 80000 },
                    { component: "Aki", interval: 30000, price: 250000 }
                ],
                "scoopy": [
                    { component: "Oli Mesin & Filter", interval: 4000, price: 140000 },
                    { component: "Busi", interval: 16000, price: 45000 },
                    { component: "Oli Transmisi", interval: 16000, price: 65000 },
                    { component: "V-Belt", interval: 25000, price: 270000 },
                    { component: "Roller", interval: 25000, price: 160000 },
                    { component: "Filter Udara", interval: 12000, price: 75000 },
                    { component: "Kampas Rem Depan", interval: 15000, price: 160000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 130000 },
                    { component: "Oli Rem", interval: 20000, price: 85000 },
                    { component: "Aki", interval: 30000, price: 260000 }
                ],
                "vario": [
                    { component: "Oli Mesin & Filter", interval: 4000, price: 150000 },
                    { component: "Busi", interval: 16000, price: 50000 },
                    { component: "Oli Transmisi", interval: 16000, price: 70000 },
                    { component: "V-Belt", interval: 25000, price: 280000 },
                    { component: "Roller", interval: 25000, price: 170000 },
                    { component: "Filter Udara", interval: 12000, price: 80000 },
                    { component: "Kampas Rem Depan", interval: 15000, price: 170000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 140000 },
                    { component: "Oli Rem", interval: 20000, price: 90000 },
                    { component: "Aki", interval: 30000, price: 270000 }
                ],
                "pcx": [
                    { component: "Oli Mesin & Filter", interval: 4000, price: 180000 },
                    { component: "Busi", interval: 16000, price: 60000 },
                    { component: "Oli Transmisi", interval: 16000, price: 80000 },
                    { component: "V-Belt", interval: 25000, price: 350000 },
                    { component: "Roller", interval: 25000, price: 200000 },
                    { component: "Filter Udara", interval: 12000, price: 90000 },
                    { component: "Kampas Rem Depan", interval: 15000, price: 200000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 180000 },
                    { component: "Oli Rem", interval: 20000, price: 100000 },
                    { component: "Aki", interval: 30000, price: 350000 }
                ],
                "adv": [
                    { component: "Oli Mesin & Filter", interval: 4000, price: 200000 },
                    { component: "Busi", interval: 16000, price: 70000 },
                    { component: "Oli Transmisi", interval: 16000, price: 90000 },
                    { component: "V-Belt", interval: 25000, price: 380000 },
                    { component: "Roller", interval: 25000, price: 220000 },
                    { component: "Filter Udara", interval: 12000, price: 100000 },
                    { component: "Kampas Rem Depan", interval: 15000, price: 220000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 200000 },
                    { component: "Oli Rem", interval: 20000, price: 120000 },
                    { component: "Aki", interval: 30000, price: 380000 }
                ],
                
                // Sport
                "cbr": [
                    { component: "Oli Mesin & Filter", interval: 3000, price: 220000 },
                    { component: "Busi", interval: 8000, price: 80000 },
                    { component: "Rantai", interval: 5000, price: 350000 },
                    { component: "Sprocket", interval: 15000, price: 300000 },
                    { component: "Filter Udara", interval: 6000, price: 120000 },
                    { component: "Kampas Rem Depan", interval: 10000, price: 250000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 220000 },
                    { component: "Oli Rem", interval: 10000, price: 150000 },
                    { component: "Aki", interval: 20000, price: 400000 },
                    { component: "Pembersihan Karburator", interval: 10000, price: 150000 }
                ],
                
                // Bebek
                "supra": [
                    { component: "Oli Mesin & Filter", interval: 3000, price: 100000 },
                    { component: "Busi", interval: 10000, price: 35000 },
                    { component: "Rantai", interval: 8000, price: 180000 },
                    { component: "Sprocket", interval: 20000, price: 150000 },
                    { component: "Filter Udara", interval: 8000, price: 60000 },
                    { component: "Kampas Rem Depan", interval: 12000, price: 120000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 100000 },
                    { component: "Oli Rem", interval: 15000, price: 70000 },
                    { component: "Aki", interval: 25000, price: 220000 },
                    { component: "Pembersihan Karburator", interval: 12000, price: 100000 }
                ],
                "genio": [
                    { component: "Oli Mesin & Filter", interval: 3000, price: 110000 },
                    { component: "Busi", interval: 10000, price: 40000 },
                    { component: "Rantai", interval: 8000, price: 200000 },
                    { component: "Sprocket", interval: 20000, price: 180000 },
                    { component: "Filter Udara", interval: 8000, price: 70000 },
                    { component: "Kampas Rem Depan", interval: 12000, price: 130000 },
                    { component: "Kampas Rem Belakang", interval: 15000, price: 110000 },
                    { component: "Oli Rem", interval: 15000, price: 80000 },
                    { component: "Aki", interval: 25000, price: 250000 },
                    { component: "Pembersihan Karburator", interval: 12000, price: 120000 }
                ]
            };

            // Nama model untuk ditampilkan
            const modelNames = {
                "beat": "Honda Beat",
                "scoopy": "Honda Scoopy",
                "vario": "Honda Vario",
                "pcx": "Honda PCX",
                "adv": "Honda ADV",
                "cbr": "Honda CBR",
                "supra": "Honda Supra",
                "genio": "Honda Genio"
            };
            
            // Tipe motor untuk ikon
            const modelTypes = {
                "beat": "matic",
                "scoopy": "matic",
                "vario": "matic",
                "pcx": "matic",
                "adv": "matic",
                "cbr": "sport",
                "supra": "bebek",
                "genio": "bebek"
            };
            
            // Status penggantian komponen
            let replacedStatus = {};
            
            const calculateBtn = document.getElementById('calculateBtn');
            const replaceAllBtn = document.getElementById('replaceAllBtn');
            const resetAllBtn = document.getElementById('resetAllBtn');
            const resetBtn = document.getElementById('resetBtn');
            const serviceTable = document.getElementById('serviceTable');
            const costDetails = document.getElementById('costDetails');
            const totalCost = document.getElementById('totalCost');
            const modelInfo = document.querySelector('.model-info h4');
            const modelDesc = document.querySelector('.model-info p');
            const modelImg = document.querySelector('.model-info img');
            
            // Fungsi untuk membuat kunci unik untuk setiap komponen
            function getComponentKey(model, component) {
                return `${model}_${component.replace(/ /g, '_')}`;
            }
            
            // Fungsi untuk memuat status penggantian dari localStorage
            function loadReplacedStatus() {
                const savedStatus = localStorage.getItem('hondaReplacedStatus');
                if (savedStatus) {
                    replacedStatus = JSON.parse(savedStatus);
                }
            }
            
            // Fungsi untuk menyimpan status penggantian ke localStorage
            function saveReplacedStatus() {
                localStorage.setItem('hondaReplacedStatus', JSON.stringify(replacedStatus));
            }
            
            // Fungsi untuk merender tabel servis
            function renderServiceTable() {
                const model = document.getElementById('model').value;
                const km = parseInt(document.getElementById('currentKm').value) || 0;
                const year = parseInt(document.getElementById('year').value) || 2022;
                const type = modelTypes[model] || "matic";
                
                const data = serviceData[model] || serviceData.beat;
                
                let tableHTML = '';
                let total = 0;
                let urgentItems = [];
                
                data.forEach(item => {
                    const componentKey = getComponentKey(model, item.component);
                    const isReplaced = replacedStatus[componentKey] || false;
                    
                    const lastChange = Math.floor(km / item.interval) * item.interval;
                    const nextChange = lastChange + item.interval;
                    const kmSinceLast = km - lastChange;
                    
                    let statusText = '';
                    let statusClass = '';
                    
                    if (isReplaced) {
                        statusText = "Sudah diganti";
                        statusClass = 'replaced';
                    } else {
                        // Hitung status berdasarkan kilometer
                        if (kmSinceLast > item.interval * 0.8) {
                            statusText = `Harus diganti (terlewat ${kmSinceLast} km)`;
                            statusClass = 'urgent';
                            total += item.price;
                            urgentItems.push(item);
                        } else if (kmSinceLast > item.interval * 0.6) {
                            statusText = `Segera diganti (${nextChange - km} km lagi)`;
                            statusClass = 'soon';
                        } else {
                            statusText = `Normal (${nextChange - km} km lagi)`;
                            statusClass = 'normal';
                        }
                        
                        // Penanganan khusus untuk aki berdasarkan tahun
                        if (item.component === "Aki" && (new Date().getFullYear() - year) >= 2) {
                            statusText = "Harus diganti (usia >2 tahun)";
                            statusClass = 'urgent';
                            total += item.price;
                            if (!urgentItems.includes(item)) urgentItems.push(item);
                        }
                    }
                    
                    tableHTML += `
                        <tr>
                            <td>${item.component}</td>
                            <td>${item.interval.toLocaleString()} KM</td>
                            <td><span class="${statusClass}">${statusText}</span></td>
                            <td>${isReplaced ? '-' : 'Rp ' + item.price.toLocaleString()}</td>
                            <td class="status-control ${isReplaced ? 'replaced' : ''}">
                                <input type="checkbox" class="replace-checkbox" id="${componentKey}" 
                                    ${isReplaced ? 'checked' : ''} 
                                    data-component="${item.component}"
                                    data-price="${item.price}">
                                <label for="${componentKey}" class="replace-label">
                                    ${isReplaced ? '✓ Diganti' : 'Tandai'}
                                </label>
                            </td>
                        </tr>
                    `;
                });
                
                serviceTable.innerHTML = tableHTML;
                
                // Tambahkan event listener untuk checkbox
                document.querySelectorAll('.replace-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const componentKey = this.id;
                        const isChecked = this.checked;
                        replacedStatus[componentKey] = isChecked;
                        saveReplacedStatus();
                        renderServiceTable();
                    });
                });
                
                // Render cost details
                let costHTML = '';
                
                if (urgentItems.length === 0) {
                    costHTML = '<p style="text-align: center; padding: 20px; color: #27ae60; font-weight: 500;">Tidak ada komponen yang harus segera diganti. Motor dalam kondisi baik!</p>';
                } else {
                    urgentItems.forEach(item => {
                        const componentKey = getComponentKey(model, item.component);
                        if (!replacedStatus[componentKey]) {
                            costHTML += `
                                <div class="cost-item">
                                    <span>${item.component}</span>
                                    <span>Rp ${item.price.toLocaleString()}</span>
                                </div>
                            `;
                        }
                    });
                    
                    // Jika semua urgent items sudah diganti
                    if (costHTML === '') {
                        costHTML = '<p style="text-align: center; padding: 20px; color: #27ae60; font-weight: 500;">Semua komponen urgent sudah diganti!</p>';
                    }
                }
                
                costDetails.innerHTML = costHTML;
                totalCost.textContent = `Rp ${total.toLocaleString()}`;
                
                // Update model info
                modelInfo.textContent = modelNames[model] || "Honda Beat";
                
                // Buat ikon berdasarkan tipe motor
                let typeIcon = "";
                let typeText = "";
                if (type === "matic") {
                    typeIcon = '<span class="motor-type-icon matic-icon">M</span>';
                } else if (type === "sport") {
                    typeIcon = '<span class="motor-type-icon sport-icon">S</span>';
                } else {
                    typeIcon = '<span class="motor-type-icon bebek-icon">B</span>';
                }
                
                modelDesc.innerHTML = `${typeIcon} ${year} • ${km.toLocaleString()} KM`;
                
                // Update gambar motor berdasarkan model
                updateMotorImage(model);
            }
            
            // Fungsi untuk mengupdate gambar motor
            function updateMotorImage(model) {
                let svgContent = '';
                
                if (model === "beat" || model === "scoopy" || model === "vario" || model === "pcx" || model === "adv") {
                    // Matic
                    svgContent = `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60'>
                        <rect width='100' height='60' fill='#f5f5f5'/>
                        <path d='M20 30 Q 40 10, 60 30 T 100 30 L 85 45 L 70 45 L 60 30 L 40 30 L 30 45 L 15 45 L 20 30' fill='#E40521'/>
                        <circle cx='30' cy='45' r='8' fill='#333'/>
                        <circle cx='70' cy='45' r='8' fill='#333'/>
                    </svg>`;
                } else if (model === "cbr") {
                    // Sport
                    svgContent = `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60'>
                        <rect width='100' height='60' fill='#f5f5f5'/>
                        <path d='M15 40 L25 25 L40 20 L60 20 L75 25 L85 40 L80 50 L70 45 L60 40 L40 40 L30 45 L20 50 Z' fill='#E40521'/>
                        <circle cx='30' cy='45' r='8' fill='#333'/>
                        <circle cx='70' cy='45' r='8' fill='#333'/>
                        <rect x='40' y='15' width='20' height='10' rx='2' fill='#333'/>
                    </svg>`;
                } else {
                    // Bebek
                    svgContent = `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60'>
                        <rect width='100' height='60' fill='#f5f5f5'/>
                        <path d='M20 40 L30 25 L40 20 L60 20 L70 25 L80 40 L75 45 L65 40 L55 45 L45 45 L35 40 L25 45 L20 40 Z' fill='#27ae60'/>
                        <circle cx='35' cy='45' r='8' fill='#333'/>
                        <circle cx='65' cy='45' r='8' fill='#333'/>
                        <rect x='45' y='15' width='10' height='10' rx='2' fill='#333'/>
                    </svg>`;
                }
                
                modelImg.src = `data:image/svg+xml;utf8,${encodeURIComponent(svgContent)}`;
            }
            
            // Fungsi untuk menandai semua komponen sudah diganti
            function markAllAsReplaced() {
                const model = document.getElementById('model').value;
                const data = serviceData[model] || serviceData.beat;
                
                data.forEach(item => {
                    const componentKey = getComponentKey(model, item.component);
                    replacedStatus[componentKey] = true;
                });
                
                saveReplacedStatus();
                renderServiceTable();
            }
            
            // Fungsi untuk mereset semua status penggantian
            function resetAllReplacedStatus() {
                const model = document.getElementById('model').value;
                const data = serviceData[model] || serviceData.beat;
                
                data.forEach(item => {
                    const componentKey = getComponentKey(model, item.component);
                    replacedStatus[componentKey] = false;
                });
                
                saveReplacedStatus();
                renderServiceTable();
            }
            
            // Fungsi untuk mereset semua status penggantian di semua model
            function resetAllStatus() {
                if (confirm("Apakah Anda yakin ingin mereset semua status penggantian komponen?")) {
                    replacedStatus = {};
                    saveReplacedStatus();
                    renderServiceTable();
                }
            }
            
            // Event listener
            calculateBtn.addEventListener('click', renderServiceTable);
            replaceAllBtn.addEventListener('click', markAllAsReplaced);
            resetAllBtn.addEventListener('click', resetAllReplacedStatus);
            resetBtn.addEventListener('click', resetAllStatus);
            
            // Muat status penggantian saat halaman dimuat
            loadReplacedStatus();
            
            // Render awal
            renderServiceTable();
            
            // Animasi untuk honda-badge
            const badge = document.querySelector('.honda-badge');
            if (badge) {
                setInterval(() => {
                    badge.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        badge.style.transform = 'scale(1)';
                    }, 500);
                }, 3000);
            }
        });
    </script>
</body>
</html>